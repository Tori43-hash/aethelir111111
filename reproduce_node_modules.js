
import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const dirs = [
  "@babel/code-frame/lib",
  "@babel/compat-data/data",
  "@babel/core/lib/config/files",
  "@babel/core/lib/config/helpers",
  "@babel/core/lib/config/validation",
  "@babel/core/lib/errors",
  "@babel/core/lib/gensync-utils",
  "@babel/core/lib/parser/util",
  "@babel/core/lib/tools",
  "@babel/core/lib/transformation/file",
  "@babel/core/lib/transformation/util",
  "@babel/core/lib/vendor",
  "@babel/core/src/config",
  "@babel/generator/lib/generators",
  "@babel/generator/lib/node",
  "@babel/helper-compilation-targets/lib",
  "@babel/helper-globals/data",
  "@babel/helper-module-imports/lib",
  "@babel/helper-module-transforms/lib",
  "@babel/helper-plugin-utils/lib",
  "@babel/helper-string-parser/lib",
  "@babel/helper-validator-identifier/lib",
  "@babel/helper-validator-option/lib",
  "@babel/helpers/lib",
  "@babel/parser/bin",
  "@babel/parser/lib",
  "@babel/parser/typings",
  "@babel/plugin-transform-react-jsx-self/lib",
  "@babel/plugin-transform-react-jsx-source/lib",
  "@babel/template/lib",
  "@babel/traverse/lib",
  "@babel/types/lib",
  "@esbuild/win32-x64",
  "@jridgewell/gen-mapping/dist/types",
  "@jridgewell/gen-mapping/src",
  "@jridgewell/gen-mapping/types",
  "@jridgewell/remapping/dist",
  "@jridgewell/remapping/src",
  "@jridgewell/remapping/types",
  "@jridgewell/resolve-uri/dist/types",
  "@jridgewell/sourcemap-codec/dist",
  "@jridgewell/sourcemap-codec/src",
  "@jridgewell/sourcemap-codec/types",
  "@jridgewell/trace-mapping/dist",
  "@jridgewell/trace-mapping/src",
  "@jridgewell/trace-mapping/types",
  "@reduxjs/toolkit/dist/cjs",
  "@reduxjs/toolkit/dist/query/cjs",
  "@reduxjs/toolkit/dist/query/react/cjs",
  "@reduxjs/toolkit/dist/react/cjs",
  "@reduxjs/toolkit/node_modules",
  "@reduxjs/toolkit/query/react",
  "@reduxjs/toolkit/react",
  "@reduxjs/toolkit/src/dynamicMiddleware/react/tests",
  "@reduxjs/toolkit/src/entities/tests/fixtures",
  "@reduxjs/toolkit/src/listenerMiddleware/tests",
  "@reduxjs/toolkit/src/query/core/buildMiddleware",
  "@reduxjs/toolkit/src/query/react",
  "@reduxjs/toolkit/src/query/tests/mocks",
  "@reduxjs/toolkit/src/query/utils",
  "@reduxjs/toolkit/src/react",
  "@reduxjs/toolkit/src/tests/utils",
  "@rolldown/pluginutils",
  "@rollup/rollup-win32-x64-gnu",
  "@rollup/rollup-win32-x64-msvc",
  "@standard-schema/spec",
  "@standard-schema/utils",
  "@types/babel__core",
  "@types/babel__generator",
  "@types/babel__template",
  "@types/babel__traverse",
  "@types/d3-array",
  "@types/d3-color",
  "@types/d3-ease",
  "@types/d3-interpolate",
  "@types/d3-path",
  "@types/d3-scale",
  "@types/d3-shape",
  "@types/d3-time",
  "@types/d3-timer",
  "@types/estree",
  "@types/node/assert",
  "@types/node/compatibility",
  "@types/node/dns",
  "@types/node/fs",
  "@types/node/readline",
  "@types/node/stream/consumers",
  "@types/node/stream/promises",
  "@types/node/stream/web",
  "@types/node/timers",
  "@types/node/ts5.6",
  "@types/node/web-globals",
  "@types/react/ts5.0",
  "@types/react-window",
  "@types/use-sync-external-store/shim",
  "@vitejs/plugin-react/dist",
  "@vitejs/plugin-react/types",
  "baseline-browser-mapping/dist",
  "browserslist",
  "caniuse-lite/data/features",
  "caniuse-lite/data/regions",
  "caniuse-lite/dist/lib",
  "caniuse-lite/dist/unpacker",
  "clsx/dist",
  "convert-source-map",
  "csstype",
  "d3-array/dist",
  "d3-array/src/threshold",
  "d3-color/dist",
  "d3-color/src",
  "d3-ease/dist",
  "d3-ease/src",
  "d3-format/dist",
  "d3-format/locale",
  "d3-format/src",
  "d3-interpolate/dist",
  "d3-interpolate/src",
  "d3-path/dist",
  "d3-path/src",
  "d3-scale/dist",
  "d3-scale/src",
  "d3-shape/dist",
  "d3-shape/src",
  "d3-time/dist",
  "d3-time/src",
  "d3-time-format/dist",
  "d3-time-format/locale",
  "d3-time-format/src",
  "d3-timer/dist",
  "d3-timer/src",
  "debug/src",
  "decimal.js-light/doc",
  "electron-to-chromium",
  "es-toolkit",
  "esbuild/bin",
  "esbuild/lib",
  "escalade/dist",
  "escalade/sync",
  "eventemitter3/dist",
  "fdir",
  "gensync",
  "immer",
  "internmap",
  "js-tokens",
  "jsesc/bin",
  "json5/lib",
  "lru-cache",
  "lucide-react/dist/cjs",
  "lucide-react/dist/esm/icons",
  "lucide-react/dist/esm/shared/src",
  "lucide-react/dist/umd",
  "ms",
  "nanoid/bin",
  "node-releases",
  "picocolors",
  "picomatch",
  "postcss/lib",
  "react/cjs",
  "react-dom/cjs",
  "react-is",
  "react-redux",
  "react-refresh",
  "react-window/dist",
  "recharts/es6/animation",
  "recharts/es6/cartesian",
  "recharts/es6/chart",
  "recharts/es6/component",
  "recharts/es6/container",
  "recharts/es6/context",
  "recharts/es6/polar",
  "recharts/es6/shape",
  "recharts/es6/state/selectors",
  "recharts/es6/state/types",
  "recharts/es6/synchronisation",
  "recharts/es6/util",
  "recharts/es6/zIndex",
  "recharts/lib/animation",
  "recharts/lib/cartesian",
  "recharts/lib/chart",
  "recharts/lib/component",
  "recharts/lib/container",
  "recharts/lib/context",
  "recharts/lib/polar",
  "recharts/lib/shape",
  "recharts/lib/state/selectors",
  "recharts/lib/state/types",
  "recharts/lib/synchronisation",
  "recharts/lib/util",
  "recharts/lib/zIndex",
  "recharts/types/animation",
  "recharts/types/cartesian",
  "recharts/types/chart",
  "recharts/types/component",
  "recharts/types/container",
  "recharts/types/context",
  "recharts/types/polar",
  "recharts/types/shape",
  "recharts/types/state/selectors",
  "recharts/types/state/types",
  "recharts/types/synchronisation",
  "recharts/types/util",
  "recharts/types/zIndex",
  "recharts/umd",
  "redux",
  "redux-thunk",
  "reselect",
  "rollup/dist/bin",
  "rollup/dist/es/shared",
  "rollup/dist/shared",
  "scheduler",
  "semver/bin",
  "source-map-js",
  "tiny-invariant",
  "tinyglobby",
  "typescript/bin",
  "typescript/lib/cs",
  "typescript/lib/de",
  "typescript/lib/es",
  "typescript/lib/fr",
  "typescript/lib/it",
  "typescript/lib/ja",
  "typescript/lib/ko",
  "typescript/lib/pl",
  "typescript/lib/pt-br",
  "typescript/lib/ru",
  "typescript/lib/tr",
  "typescript/lib/zh-cn",
  "typescript/lib/zh-tw",
  "undici-types",
  "update-browserslist-db",
  "use-sync-external-store",
  "victory-vendor",
  "vite/bin",
  "vite/dist/client",
  "vite/dist/node/chunks",
  "vite/dist/node-cjs",
  "vite/misc",
  "vite/types/internal",
  "yallist"
];

const srcDirs = [
  "src",
  "src/components",
  "src/assets"
];

const nodeModulesBase = path.join(__dirname, 'node_modules');

if (!fs.existsSync(nodeModulesBase)){
    fs.mkdirSync(nodeModulesBase);
}

dirs.forEach(dir => {
  const fullPath = path.join(nodeModulesBase, dir);
  if (!fs.existsSync(fullPath)) {
      try {
        fs.mkdirSync(fullPath, { recursive: true });
        console.log(`Created: ${dir}`);
      } catch (e) {
        console.error(`Error creating ${dir}:`, e);
      }
  }
});

srcDirs.forEach(dir => {
  const fullPath = path.join(__dirname, dir);
  if (!fs.existsSync(fullPath)) {
      try {
        fs.mkdirSync(fullPath, { recursive: true });
        console.log(`Created: ${dir}`);
      } catch (e) {
        console.error(`Error creating ${dir}:`, e);
      }
  }
});

console.log('Finished scaffolding structure.');
